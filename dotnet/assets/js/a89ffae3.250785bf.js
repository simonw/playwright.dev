"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[7201],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),g=r,m=d["".concat(o,".").concat(g)]||d[g]||p[g]||s;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=d;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<s;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3811:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(7294),r=Object.defineProperty,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c({children:e,hidden:t,className:n}){return a.createElement("div",((e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(s)for(var n of s(t))l.call(t,n)&&o(e,n,t[n]);return e})({role:"tabpanel"},{hidden:t,className:n}),e)}},3824:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(7294),r=n(4939),s=n(9670),i=n(6010),l="tabItem_LplD",o=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e};function y(e){var t,n,r;const{lazy:o,block:p,defaultValue:d,values:g,groupId:m,className:y}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=g?g:f.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),w=(0,s.lx)(b,((e,t)=>e.value===t.value));if(w.length>0)throw new Error(`Docusaurus error: Duplicate values "${w.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const v=null===d?d:null!=(r=null!=d?d:null==(t=f.find((e=>e.props.default)))?void 0:t.props.value)?r:null==(n=f[0])?void 0:n.props.value;if(null!==v&&!b.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:T,setTabGroupChoices:k}=(0,s.UB)(),[P,x]=(0,a.useState)(v),N=[],{blockElementScrollPositionUntilNextRender:O}=(0,s.o5)();if(null!=m){const e=T[m];null!=e&&e!==P&&b.some((t=>t.value===e))&&x(e)}const E=e=>{const t=e.currentTarget,n=N.indexOf(t),a=b[n].value;a!==P&&(O(t),x(a),null!=m&&k(m,a))},S=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=N.indexOf(e.currentTarget)+1;t=N[n]||N[0];break}case"ArrowLeft":{const n=N.indexOf(e.currentTarget)-1;t=N[n]||N[N.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},y)},b.map((({value:e,label:t,attributes:n})=>{return a.createElement("li",(r=h({role:"tab",tabIndex:P===e?0:-1,"aria-selected":P===e,key:e,ref:e=>N.push(e),onKeyDown:S,onFocus:E,onClick:E},n),s={className:(0,i.Z)("tabs__item",l,null==n?void 0:n.className,{"tabs__item--active":P===e})},c(r,u(s))),null!=t?t:e);var r,s}))),o?(0,a.cloneElement)(f.filter((e=>e.props.value===P))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==P})))))}function f(e){const t=(0,r.Z)();return a.createElement(y,h({key:String(t)},e))}},8888:function(e,t,n){n.r(t),n.d(t,{assets:function(){return f},contentTitle:function(){return h},default:function(){return v},frontMatter:function(){return m},metadata:function(){return y},toc:function(){return b}});var a=n(3905),r=n(3824),s=n(3811),i=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))p.call(t,n)&&d(e,n,t[n]);return e};const m={id:"writing-tests",title:"Writing Tests"},h=void 0,y={unversionedId:"writing-tests",id:"writing-tests",title:"Writing Tests",description:"Playwright assertions are created specifically for the dynamic web. Checks are automatically retried until the necessary conditions are met. Playwright comes with auto-wait built in meaning it waits for elements to be actionable prior to performing actions. Playwright provides the Expect function to write assertions.",source:"@site/docs/writing-tests.mdx",sourceDirName:".",slug:"/writing-tests",permalink:"/dotnet/docs/next/writing-tests",tags:[],version:"current",frontMatter:{id:"writing-tests",title:"Writing Tests"},sidebar:"docs",previous:{title:"Installation",permalink:"/dotnet/docs/next/intro"},next:{title:"Running Tests",permalink:"/dotnet/docs/next/running-tests"}},f={},b=[{value:"Assertions",id:"assertions",level:3},{value:"Locators",id:"locators",level:3},{value:"Test Isolation",id:"test-isolation",level:3},{value:"Using Test Hooks",id:"using-test-hooks",level:3},{value:"What&#39;s Next",id:"whats-next",level:2}],w={toc:b};function v(e){var t,n=e,{components:i}=n,d=((e,t)=>{var n={};for(var a in e)u.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&c)for(var a of c(e))t.indexOf(a)<0&&p.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=g(g({},w),d),l(t,o({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,"Playwright assertions are created specifically for the dynamic web. Checks are automatically retried until the necessary conditions are met. Playwright comes with auto-wait built in meaning it waits for elements to be actionable prior to performing actions. Playwright provides the ",(0,a.kt)("a",g({parentName:"p"},{href:"./test-assertions"}),"Expect")," function to write assertions."),(0,a.kt)("p",null,"Take a look at the example test to see how to write a test using web first assertions, locators and selectors."),(0,a.kt)(r.Z,{defaultValue:"nunit",values:[{label:"NUnit",value:"nunit"},{label:"MSTest",value:"mstest"}],mdxType:"Tabs"},(0,a.kt)(s.Z,{value:"nunit",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using System.Text.RegularExpressions;\nusing Microsoft.Playwright.NUnit;\n\nnamespace PlaywrightTests;\n\n[Parallelizable(ParallelScope.Self)]\npublic class Tests : PageTest\n{\n    [Test]\n    async public Task HomepageHasPlaywrightInTitleAndGetStartedLinkLinkingtoTheIntroPage()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n\n        // Expect a title "to contain" a substring.\n        await Expect(Page).ToHaveTitleAsync(new Regex("Playwright"));\n\n        // create a locator\n        var getStarted = Page.Locator("text=Get Started");\n\n        // Expect an attribute "to be strictly equal" to the value.\n        await Expect(getStarted).ToHaveAttributeAsync("href", "/docs/intro");\n\n        // Click the get started link.\n        await getStarted.ClickAsync();\n\n        // Expects the URL to contain intro.\n        await Expect(Page).ToHaveURLAsync(new Regex(".*intro"));\n    }\n}\n'))),(0,a.kt)(s.Z,{value:"mstest",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using System.Text.RegularExpressions;\nusing Microsoft.Playwright.MSTest;\n\nnamespace PlaywrightTests;\n\npublic class UnitTest1 : PageTest\n{\n    [TestMethod]\n    async public Task HomepageHasPlaywrightInTitleAndGetStartedLinkLinkingtoTheIntroPage()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n\n        // Expect a title "to contain" a substring.\n        await Expect(Page).ToHaveTitleAsync(new Regex("Playwright"));\n\n        // create a locator\n        var getStarted = Page.Locator("text=Get Started");\n\n        // Expect an attribute "to be strictly equal" to the value.\n        await Expect(getStarted).ToHaveAttributeAsync("href", "/docs/intro");\n\n        // Click the get started link.\n        await getStarted.ClickAsync();\n\n        // Expects the URL to contain intro.\n        await Expect(Page).ToHaveURLAsync(new Regex(".*intro"));\n    }\n}\n')))),(0,a.kt)("h3",g({},{id:"assertions"}),"Assertions"),(0,a.kt)("p",null,"Playwright provides an async function called ",(0,a.kt)("a",g({parentName:"p"},{href:"./test-assertions"}),"Expect")," to assert and wait until the expected condition is met."),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'await Expect(Page).ToHaveTitleAsync(new Regex("Playwright"));\n')),(0,a.kt)("h3",g({},{id:"locators"}),"Locators"),(0,a.kt)("p",null,(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/locators"}),"Locators")," are the central piece of Playwright's auto-waiting and retry-ability. Locators represent a way to find element(s) on the page at any moment and are used to perform actions on elements such as .click .fill etc. Custom locators can be created with the ",(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/api/class-page#page-locator"}),"Page.Locator(selector, options)")," method."),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'var getStarted = Page.Locator("text=Get Started");\n\nawait Expect(getStarted).ToHaveAttributeAsync("href", "/docs/installation");\nawait getStarted.ClickAsync();\n')),(0,a.kt)("p",null,(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/selectors"}),"Selectors")," are strings that are used to create Locators. Playwright supports many different selectors like ",(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/selectors#text-selector"}),"Text"),", ",(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/selectors#css-selector"}),"CSS"),", ",(0,a.kt)("a",g({parentName:"p"},{href:"/dotnet/docs/next/selectors#xpath-selectors"}),"XPath")," and many more."),(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'await Expect(Page.Locator("text=Installation")).ToBeVisibleAsync();\n')),(0,a.kt)("h3",g({},{id:"test-isolation"}),"Test Isolation"),(0,a.kt)("p",null,"The Playwright NUnit and MSTest test framework base classes will isolate each test from each other by providing a separate ",(0,a.kt)("inlineCode",{parentName:"p"},"Page")," instance. Pages are isolated between tests due to the Browser Context, which is equivalent to a brand new browser profile, where every test gets a fresh environment, even when multiple tests run in a single Browser."),(0,a.kt)(r.Z,{defaultValue:"nunit",values:[{label:"NUnit",value:"nunit"},{label:"MSTest",value:"mstest"}],mdxType:"Tabs"},(0,a.kt)(s.Z,{value:"nunit",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using System.Threading.Tasks;\nusing Microsoft.Playwright.NUnit;\nusing NUnit.Framework;\n\nnamespace PlaywrightTests;\n\n[Parallelizable(ParallelScope.Self)]\npublic class Tests : PageTest\n{\n    [Test]\n    public async Task BasicTest()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n    }\n}\n'))),(0,a.kt)(s.Z,{value:"mstest",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using Microsoft.Playwright.MSTest;\n\nnamespace PlaywrightTests;\n\npublic class UnitTest1 : PageTest\n{\n    [TestMethod]\n    public async Task BasicTest()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n    }\n}\n')))),(0,a.kt)("h3",g({},{id:"using-test-hooks"}),"Using Test Hooks"),(0,a.kt)("p",null,"You can use ",(0,a.kt)("inlineCode",{parentName:"p"},"SetUp"),"/",(0,a.kt)("inlineCode",{parentName:"p"},"TearDown")," in NUnit or ",(0,a.kt)("inlineCode",{parentName:"p"},"TestInitialize"),"/",(0,a.kt)("inlineCode",{parentName:"p"},"TestCleanup")," in MSTest to prepare and clean up your test environment:"),(0,a.kt)(r.Z,{defaultValue:"nunit",values:[{label:"NUnit",value:"nunit"},{label:"MSTest",value:"mstest"}],mdxType:"Tabs"},(0,a.kt)(s.Z,{value:"nunit",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using System.Threading.Tasks;\nusing Microsoft.Playwright.NUnit;\nusing NUnit.Framework;\n\nnamespace PlaywrightTests;\n\n[Parallelizable(ParallelScope.Self)]\npublic class Tests : PageTest\n{\n    [Test]\n    public async Task MainNavigation()\n    {\n        // Assertions use the expect API.\n        await Expect(Page).ToHaveURLAsync("https://playwright.dev/");\n    }\n\n    [SetUp]\n    public async Task SetUp()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n    }\n}\n'))),(0,a.kt)(s.Z,{value:"mstest",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",g({parentName:"pre"},{className:"language-csharp"}),'using Microsoft.Playwright.MSTest;\n\nnamespace PlaywrightTests;\n\npublic class UnitTest1 : PageTest\n{\n    [TestMethod]\n    public async Task MainNavigation()\n    {\n        // Assertions use the expect API.\n        await Expect(Page).ToHaveURLAsync("https://playwright.dev/");\n    }\n\n    [TestInitialize]\n    public async Task TestInitialize()\n    {\n        await Page.GotoAsync("https://playwright.dev");\n    }\n}\n')))),(0,a.kt)("h2",g({},{id:"whats-next"}),"What's Next"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"/dotnet/docs/next/running-tests"}),"Run single tests, multiple tests, headed mode")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"/dotnet/docs/next/debug"}),"Debug tests with the Playwright Debugger")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"/dotnet/docs/next/codegen"}),"Generate tests with Codegen")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",g({parentName:"li"},{href:"/dotnet/docs/next/trace-viewer"}),"See a trace of your tests"))))}v.isMDXComponent=!0}}]);