"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[2106],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(r),f=a,y=d["".concat(s,".").concat(f)]||d[f]||c[f]||o;return r?n.createElement(y,i(i({ref:t},u),{},{components:r})):n.createElement(y,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},3958:function(e,t,r){r.r(t),r.d(t,{assets:function(){return g},contentTitle:function(){return f},default:function(){return w},frontMatter:function(){return d},metadata:function(){return y},toc:function(){return h}});var n=r(3905),a=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(l)for(var r of l(t))p.call(t,r)&&u(e,r,t[r]);return e};const d={id:"library",title:"Getting started - Library"},f=void 0,y={unversionedId:"library",id:"library",title:"Getting started - Library",description:"Playwright can either be used with the NUnit or MSTest, or as a Playwright Library (this guide). If you are working on an application that utilizes Playwright capabilities or you are using Playwright with another test runner, read on.",source:"@site/docs/library.mdx",sourceDirName:".",slug:"/library",permalink:"/dotnet/docs/next/library",tags:[],version:"current",frontMatter:{id:"library",title:"Getting started - Library"},sidebar:"docs",previous:{title:"Test Runners",permalink:"/dotnet/docs/next/test-runners"},next:{title:"Release notes",permalink:"/dotnet/docs/next/release-notes"}},g={},h=[{value:"Usage",id:"usage",level:2},{value:"Bundle drivers for different platforms",id:"bundle-drivers-for-different-platforms",level:2}],m={toc:h};function w(e){var t,r=e,{components:a}=r,u=((e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&p.call(e,n)&&(r[n]=e[n]);return r})(r,["components"]);return(0,n.kt)("wrapper",(t=c(c({},m),u),o(t,i({components:a,mdxType:"MDXLayout"}))),(0,n.kt)("p",null,"Playwright can either be used with the ",(0,n.kt)("a",c({parentName:"p"},{href:"/dotnet/docs/next/test-runners#nunit"}),"NUnit")," or ",(0,n.kt)("a",c({parentName:"p"},{href:"/dotnet/docs/next/test-runners#mstest"}),"MSTest"),", or as a Playwright Library (this guide). If you are working on an application that utilizes Playwright capabilities or you are using Playwright with another test runner, read on."),(0,n.kt)("h2",c({},{id:"usage"}),"Usage"),(0,n.kt)("p",null,"Create a console project and add the Playwright dependency."),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-bash"}),"# Create project\ndotnet new console -n PlaywrightDemo\ncd PlaywrightDemo\n\n# Add project dependency\ndotnet add package Microsoft.Playwright\n# Build the project\ndotnet build\n# Install required browsers - replace netX with actual output folder name, e.g. net6.0.\npwsh bin\\Debug\\netX\\playwright.ps1 install\n\n# If the pwsh command does not work (throws TypeNotFound), make sure to use an up-to-date version of PowerShell.\ndotnet tool update --global PowerShell\n")),(0,n.kt)("p",null,"Create a ",(0,n.kt)("inlineCode",{parentName:"p"},"Program.cs")," that will navigate to ",(0,n.kt)("inlineCode",{parentName:"p"},"https://playwright.dev/dotnet")," and take a screenshot in Chromium."),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-csharp"}),'using Microsoft.Playwright;\n\nusing var playwright = await Playwright.CreateAsync();\nawait using var browser = await playwright.Chromium.LaunchAsync();\nvar page = await browser.NewPageAsync();\nawait page.GotoAsync("https://playwright.dev/dotnet");\nawait page.ScreenshotAsync(new PageScreenshotOptions { Path = "screenshot.png" });\n')),(0,n.kt)("p",null,"Now run it."),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-bash"}),"dotnet run\n")),(0,n.kt)("p",null,"By default, Playwright runs the browsers in headless mode. To see the browser UI, pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"Headless = false")," flag while launching the browser. You can also use ",(0,n.kt)("inlineCode",{parentName:"p"},"slowMo")," to slow down execution. Learn more in the debugging tools ",(0,n.kt)("a",c({parentName:"p"},{href:"/dotnet/docs/next/debug"}),"section"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-csharp"}),"await using var browser = await playwright.Firefox.LaunchAsync(new()\n{\n    Headless = false,\n    SlowMo = 50,\n});\n")),(0,n.kt)("h2",c({},{id:"bundle-drivers-for-different-platforms"}),"Bundle drivers for different platforms"),(0,n.kt)("p",null,"Playwright by default does bundle only the driver for the .NET publish target runtime. If you want to bundle for additional platforms, you can override this behavior by using either ",(0,n.kt)("inlineCode",{parentName:"p"},"all"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"none")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"linux"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"win"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"osx")," in your project file."),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-xml"}),"<PropertyGroup>\n  <PlaywrightPlatform>all</PlaywrightPlatform>\n</PropertyGroup>\n")),(0,n.kt)("p",null,"or:"),(0,n.kt)("pre",null,(0,n.kt)("code",c({parentName:"pre"},{className:"language-xml"}),"<PropertyGroup>\n  <PlaywrightPlatform>osx;linux</PlaywrightPlatform>\n</PropertyGroup>\n")))}w.isMDXComponent=!0}}]);